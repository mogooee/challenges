{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/runner/work/challenges/challenges/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from'react';import styled from'styled-components';import ColorPicker from'./ColorPicker';import{DEFAULT_COLOR,MESSAGE,SIZE}from'../../constants/post-it';import{random}from'../../utils/post-it';import{getHighestIndex}from'../../pages/PostIt';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StyledPostItMaker=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  border: 1px solid black;\\n  padding: 8px;\\n  width: fit-content;\\n  height: fit-content;\\n\\n  p {\\n    margin: 0;\\n    margin-bottom: 10px;\\n  }\\n\\n  .control-box {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n\\n    button {\\n      border: 1px solid black;\\n      background-color: white;\\n    }\\n  }\\n\"])));const PostItMaker=_ref=>{let{setPostIts}=_ref;const[color,setColor]=useState(DEFAULT_COLOR);const getPostItPosition=()=>{const memoBoard=document.querySelector('.memo-board');const x=random(SIZE.MEMOBOARD.PADDING,(memoBoard===null||memoBoard===void 0?void 0:memoBoard.clientWidth)-SIZE.POSTIT.WIDTH-SIZE.MEMOBOARD.PADDING);const y=random(SIZE.MEMOBOARD.PADDING,(memoBoard===null||memoBoard===void 0?void 0:memoBoard.clientHeight)-SIZE.POSTIT.HEIGHT-SIZE.MEMOBOARD.PADDING);return{x,y};};const handleCreateButtonClick=()=>{const createdAt=Date.now();const $position=getPostItPosition();const newPost={color,createdAt,$position,content:''};setPostIts(prev=>{const index=prev.length?getHighestIndex(prev):0;return[...prev,{...newPost,index}];});};return/*#__PURE__*/_jsxs(StyledPostItMaker,{children:[/*#__PURE__*/_jsx(\"p\",{children:MESSAGE.POSTIT_MAKER.TITLE}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-box\",children:[/*#__PURE__*/_jsx(ColorPicker,{color:color,setColor:setColor}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCreateButtonClick,children:'create'})]})]});};export default PostItMaker;","map":{"version":3,"names":["React","useState","styled","ColorPicker","DEFAULT_COLOR","MESSAGE","SIZE","random","getHighestIndex","jsx","_jsx","jsxs","_jsxs","StyledPostItMaker","div","_templateObject","_taggedTemplateLiteral","PostItMaker","_ref","setPostIts","color","setColor","getPostItPosition","memoBoard","document","querySelector","x","MEMOBOARD","PADDING","clientWidth","POSTIT","WIDTH","y","clientHeight","HEIGHT","handleCreateButtonClick","createdAt","Date","now","$position","newPost","content","prev","index","length","children","POSTIT_MAKER","TITLE","className","type","onClick"],"sources":["/home/runner/work/challenges/challenges/src/components/post-it/PostItMaker.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport ColorPicker from './ColorPicker';\nimport { DEFAULT_COLOR, MESSAGE, SIZE } from '../../constants/post-it';\nimport { PostItProps } from './PostIt';\nimport { random } from '../../utils/post-it';\nimport { getHighestIndex } from '../../pages/PostIt';\n\nconst StyledPostItMaker = styled.div`\n  border: 1px solid black;\n  padding: 8px;\n  width: fit-content;\n  height: fit-content;\n\n  p {\n    margin: 0;\n    margin-bottom: 10px;\n  }\n\n  .control-box {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    button {\n      border: 1px solid black;\n      background-color: white;\n    }\n  }\n`;\n\ninterface PostItMakerProps {\n  setPostIts: React.Dispatch<React.SetStateAction<PostItProps[]>>;\n}\n\nconst PostItMaker = ({ setPostIts }: PostItMakerProps) => {\n  const [color, setColor] = useState<string>(DEFAULT_COLOR);\n\n  const getPostItPosition = () => {\n    const memoBoard = document.querySelector('.memo-board') as Element;\n    const x = random(SIZE.MEMOBOARD.PADDING, memoBoard?.clientWidth - SIZE.POSTIT.WIDTH - SIZE.MEMOBOARD.PADDING);\n    const y = random(SIZE.MEMOBOARD.PADDING, memoBoard?.clientHeight - SIZE.POSTIT.HEIGHT - SIZE.MEMOBOARD.PADDING);\n    return { x, y };\n  };\n\n  const handleCreateButtonClick = () => {\n    const createdAt = Date.now();\n    const $position = getPostItPosition();\n    const newPost = { color, createdAt, $position, content: '' };\n    setPostIts((prev) => {\n      const index = prev.length ? getHighestIndex(prev) : 0;\n      return [...prev, { ...newPost, index }];\n    });\n  };\n\n  return (\n    <StyledPostItMaker>\n      <p>{MESSAGE.POSTIT_MAKER.TITLE}</p>\n      <div className=\"control-box\">\n        <ColorPicker color={color} setColor={setColor} />\n        <button type=\"button\" onClick={handleCreateButtonClick}>\n          {'create'}\n        </button>\n      </div>\n    </StyledPostItMaker>\n  );\n};\n\nexport default PostItMaker;\n"],"mappings":"iKAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,aAAa,CAAEC,OAAO,CAAEC,IAAI,KAAQ,yBAAyB,CAEtE,OAASC,MAAM,KAAQ,qBAAqB,CAC5C,OAASC,eAAe,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,iBAAiB,CAAGX,MAAM,CAACY,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,iWAqBnC,CAMD,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAsC,IAArC,CAAEC,UAA6B,CAAC,CAAAD,IAAA,CACnD,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAASG,aAAa,CAAC,CAEzD,KAAM,CAAAkB,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAAC,SAAS,CAAGC,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAY,CAClE,KAAM,CAAAC,CAAC,CAAGnB,MAAM,CAACD,IAAI,CAACqB,SAAS,CAACC,OAAO,CAAE,CAAAL,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEM,WAAW,EAAGvB,IAAI,CAACwB,MAAM,CAACC,KAAK,CAAGzB,IAAI,CAACqB,SAAS,CAACC,OAAO,CAAC,CAC7G,KAAM,CAAAI,CAAC,CAAGzB,MAAM,CAACD,IAAI,CAACqB,SAAS,CAACC,OAAO,CAAE,CAAAL,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEU,YAAY,EAAG3B,IAAI,CAACwB,MAAM,CAACI,MAAM,CAAG5B,IAAI,CAACqB,SAAS,CAACC,OAAO,CAAC,CAC/G,MAAO,CAAEF,CAAC,CAAEM,CAAE,CAAC,CACjB,CAAC,CAED,KAAM,CAAAG,uBAAuB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAC5B,KAAM,CAAAC,SAAS,CAAGjB,iBAAiB,CAAC,CAAC,CACrC,KAAM,CAAAkB,OAAO,CAAG,CAAEpB,KAAK,CAAEgB,SAAS,CAAEG,SAAS,CAAEE,OAAO,CAAE,EAAG,CAAC,CAC5DtB,UAAU,CAAEuB,IAAI,EAAK,CACnB,KAAM,CAAAC,KAAK,CAAGD,IAAI,CAACE,MAAM,CAAGpC,eAAe,CAACkC,IAAI,CAAC,CAAG,CAAC,CACrD,MAAO,CAAC,GAAGA,IAAI,CAAE,CAAE,GAAGF,OAAO,CAAEG,KAAM,CAAC,CAAC,CACzC,CAAC,CAAC,CACJ,CAAC,CAED,mBACE/B,KAAA,CAACC,iBAAiB,EAAAgC,QAAA,eAChBnC,IAAA,MAAAmC,QAAA,CAAIxC,OAAO,CAACyC,YAAY,CAACC,KAAK,CAAI,CAAC,cACnCnC,KAAA,QAAKoC,SAAS,CAAC,aAAa,CAAAH,QAAA,eAC1BnC,IAAA,CAACP,WAAW,EAACiB,KAAK,CAAEA,KAAM,CAACC,QAAQ,CAAEA,QAAS,CAAE,CAAC,cACjDX,IAAA,WAAQuC,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEf,uBAAwB,CAAAU,QAAA,CACpD,QAAQ,CACH,CAAC,EACN,CAAC,EACW,CAAC,CAExB,CAAC,CAED,cAAe,CAAA5B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}